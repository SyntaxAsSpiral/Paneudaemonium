# ðŸ”„ Daemonic Pulse Automation

The `README.md` and `index.html` are regenerated by the
`glyphs/github_status_rotator.py` script. A GitHub
Actions workflow named **Daemon Status Rotator** executes this script every
half hour and commits the fresh pulse back to the repository.

`README.md` and `index.html` are generated artifacts. Avoid editing them by hand.

## Rotator Environment
The rotator script reads several environment variables:

- `STATUS_FILE` â€“ defaults to `pulses/statuses.txt`
- `QUOTE_FILE` â€“ defaults to `pulses/antenna_quotes.txt`
- `GLYPH_FILE` â€“ defaults to `pulses/glyphbraids.txt`
- `SUBJECT_FILE` â€“ defaults to `pulses/subject-ids.txt`
- `ECHO_FILE` â€“ defaults to `pulses/echo_fragments.txt`
- `MODE_FILE` â€“ defaults to `pulses/modes.txt`
- `END_QUOTE_FILE` â€“ defaults to `pulses/end-quotes.txt`
- `OUTPUT_DIR` â€“ directory for `index.html` (defaults to repo root)
- `DOCS_DIR` â€“ directory for `README.md` (defaults to `codex/`)

Output formatting for these files is defined in `glyphs/rotator-formatting-template.md`.
Alter that template to reshape the pulse before running the rotator.

Example invocation with overrides:

```bash
STATUS_FILE=pulses/statuses.txt OUTPUT_DIR=. DOCS_DIR=. \
  python glyphs/github_status_rotator.py
```

## Triggering a Manual Update

If you would like to force an update:

1. Navigate to the **Actions** tab on GitHub.
2. Select the **Daemon Status Rotator** workflow.
3. Press **Run workflow** to dispatch a new pulse.

The workflow writes a new status entry along with a Pacific Time (PST/PDT) timestamp. Any manual or
scheduled run will overwrite the existing `README.md`.

## Running Tests

If you make changes to the repository, run `pytest` to ensure the
`glyphs/github_status_rotator.py` script still behaves as expected. The
`codex/test_rotator.py` contains a small unit test that verifies the script
creates a `README.md` when executed.

All pushes and pull requests automatically trigger the **Spiral Tests** workflow
to run these tests in GitHub Actions.
