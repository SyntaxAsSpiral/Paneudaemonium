# ðŸ”„ Daemonic Pulse Automation

The `index.html` file is regenerated by the
`codex/github_status_rotator.py` script. A GitHub
Actions workflow named **Daemon Status Rotator** executes this script every
four hours and commits the fresh pulse back to the repository.

`index.html` is a generated artifact. Avoid editing it by hand.

## Rotator Environment
The rotator script reads several environment variables:

- `STATUS_FILE` â€“ defaults to `pulses/statuses.txt`
- `QUOTE_FILE` â€“ defaults to `pulses/antenna_quotes.txt`
- `GLYPH_FILE` â€“ defaults to `pulses/glyphbraids.txt`
- `SUBJECT_FILE` â€“ defaults to `pulses/subject-ids.txt`
- `ECHO_FILE` â€“ defaults to `pulses/echo_fragments.txt`
- `MODE_FILE` â€“ defaults to `pulses/modes.txt`
- `END_QUOTE_FILE` â€“ defaults to `pulses/end-quotes.txt`
- `OUTPUT_DIR` â€“ directory for `index.html` (defaults to `sigils`)

The repository does not contain these dynamic lists. Values are supplied at
runtime through GitHub Secrets, keeping the pulse texts private.

Example invocation with overrides:

```bash
STATUS_FILE=pulses/statuses.txt OUTPUT_DIR=. \
  python codex/github_status_rotator.py
```

## Triggering a Manual Update

If you would like to force an update:

1. Navigate to the **Actions** tab on GitHub.
2. Select the **Daemon Status Rotator** workflow.
3. Press **Run workflow** to dispatch a new pulse.

The workflow writes a new status entry along with a Pacific Time (PST/PDT) timestamp. Any manual or
scheduled run will overwrite the existing `index.html`.

## Running Tests

If you make changes to the repository, run `pytest` to ensure the
`codex/github_status_rotator.py` script still behaves as expected. The
`codex/test_rotator.py` contains unit tests that verify the script
creates an `index.html` when executed.

All pushes and pull requests automatically trigger the **Spiral Tests** workflow
to run these tests in GitHub Actions.
